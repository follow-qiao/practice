<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style>
			body,li,h3,dl,dd{
				margin:0;
			}
			ul{
				margin:0;
				padding:0;
				list-style:none;
			}
			.wrap{
				width:1000px;
				height:500px;
				margin-left:calc(50% - 500px);
				margin-top:80px;
				background:url(img/bg.jpg) no-repeat;
				display:flex;
				justify-content: center;
				align-items: center;	
			}
			.box{
				width:760px;
				height:260px;
				background-color:#fff;
			}
			.banner{
				height:30px;
				width:100%;
				padding-top:10px;
				padding-bottom:10px;
				background:url(img/nav_bg.png);
			}
			.abnner_name{
				float:left;
				font:14px/30px "微软雅黑";
				color:#0f1011;
				padding-left:20px;
			}
			.select{
				float:left;
				margin-top:3px;
				border:2px solid #69bcd0;
			}
			.text{
				float:left;
				font:14px/23px "微软雅黑";
				margin-left:6px;
				margin-right:6px;
			}
			.icon{
				float:left;
				width:17px;
				height:17px;
				margin-right:1px;
				background:url(img/close.png) no-repeat;
				margin-top:2px;
			}
			.type{
				height:190px;
				padding-top:20px;
				padding-left:28px;
				background:url(img/type_bg.png) no-repeat;
			}
			.type_name{
				float:left;
				font:14px/42px arrial, "微软雅黑";
				color:#868989;
			}
			.type_info{
				float:left;
				font:14px/22px arrial, "微软雅黑";
				margin:10px 18px;
				color:#030404;
				cursor:pointer;
			}
			.type dl{
				content:"";
				clear:both;
				display:block;
			}
			.type dd.active{
				color:#2e9bb7;
			}
		</style>
	</head>
	<body>
		<section class="wrap">
			<div class="box">
				<dl class="banner">
					<dt class="abnner_name">你的选择：</dt>
				</dl>
				<div class="type">
					<dl>
						<dt class="type_name">品牌 :</dt>
						<dd class="type_info">小米</dd>
						<dd class="type_info">锤子</dd>
						<dd class="type_info">魅族</dd>
						<dd class="type_info">三星</dd>
						<dd class="type_info">OPPO</dd>
						<dd class="type_info">vivo</dd>
						<dd class="type_info">乐视</dd>
						<dd class="type_info">360</dd>
						<dd class="type_info">中兴</dd>
						<dd class="type_info">索尼</dd>
					</dl>
					<dl>
						<dt class="type_name">尺寸 :</dt>
						<dd class="type_info">3.0英寸以下</dd>
						<dd class="type_info">3.0-3.9英寸</dd>
						<dd class="type_info">4.0-4.5英寸</dd>
						<dd class="type_info">4.6-4.9英寸</dd>
						<dd class="type_info">5.0-5.5英寸</dd>
						<dd class="type_info">6.0英寸以上</dd>
					</dl>
					<dl>
						<dt class="type_name">系统 :</dt>
						<dd class="type_info">安卓(Android)</dd>
						<dd class="type_info">苹果(IOS)</dd>
						<dd class="type_info">微软(WindowsPhone)</dd>
						<dd class="type_info">无</dd>
						<dd class="type_info">其它</dd>
					</dl>
					<dl>
						<dt class="type_name">网络 :</dt>
						<dd class="type_info">联通3G</dd>
						<dd class="type_info">双卡单4G</dd>
						<dd class="type_info">双卡双4G</dd>
						<dd class="type_info">联通4G</dd>
						<dd class="type_info">电信4G</dd>
						<dd class="type_info">移动4G</dd>
					</dl>
				</div>
			</div>
			<!--1.做颜色替换
			2.生成结构(创建节点)，新生成的结构的存在数组里，方便与各种类型做关联(使不同类型的位置固定)；-->
		</section>
		<script>
			//要选则的
			var type=document.querySelector('.type');
			//已选择
			var banner=document.querySelector('.banner');
			//获取到所有的dl；
			var dls=type.children;
			//声明一个空数组进行存放生成结构的数据；
			var creatArr=[];
			//由于每个dl的功能都一样，所以写好一个函数，用for循环对函数进行传参；
			for(var i=0,len=dls.length;i<len;i++){
				colorChange(i);
			}

//			由于每个dl中的功能一样，所以拿一个为例写一个函数，然后再用传参的形式让每一个dl都实现这个功能；
			function colorChange(num){
				//先获取一个dl下的dd元素
				var dds=dls[num].getElementsByTagName('dd');
				//给dd元素的父级一个标记，目的是为了点击当前能与上面导航栏的位置关联上；
				dls[num].pid=num;
				
				//在声明一个上一个，用来交替显示颜色；
				var prev=dds[0];
				//循环每一个可点击的dd元素
				for(var i=0,len=dds.length;i<len;i++){
					dds[i].onclick=function (){						
						//移除上一个的颜色
						prev.classList.remove('active');
						//给当前这个加上颜色
						this.classList.add('active');
						//让当前这个变成上一个来实现替换的效果
						prev=this;
						appendArr(creatDate(creatSlect(this,this.parentNode.pid)))
					} 
				}	
			}
			
//			生成已选择的节点
			function creatSlect(clicked,pid){
				//创建需要的元素
				var dl=document.createElement('dl');
				var span=document.createElement('span');
				var a=document.createElement('a');
				//关联类型中的dl下表与生成数组的下表
				dl.pid=pid
				//生成结构				
				dl.appendChild(span);
				dl.appendChild(a);
				//由于这里的参数clicked应该是被点击元素的内容，所以这应该是个变量，所以这个函数就要在上面点击事件中调用
				span.innerHTML=clicked.innerHTML;
				//给创建的元素添加样式
				dl.classList.add('select');
				span.classList.add('text');
				a.classList.add('icon');
				//把声称好的结构放到数组中；
				return dl;
			}
//			对创建好的节点进行去重
			function creatDate(oDl){
				if(creatArr.length){
					for(var i=0,len=creatArr.length;i<len;i++){
						//数组里的节点的Id与当前添加的id相等就替换原数组里的数据
						if(creatArr[i].pid===oDl.pid){
							//对已有的做替换
							creatArr[i]===oDl;
							console.log(creatArr[i])
							return creatArr
						}
					}
				}
				creatArr.push(oDl);
				return creatArr;
			}
			function appendArr(data){
				//对数组中的标签编号进行排序
				data.sort(function (a,b){
					//下面结构的序号，对数组进行排序；再添加到banner区
					return a.pid-b.pid;					
				}).forEach(function (item,i){
					banner.appendChild(item);
				})
			}
		</script>
	</body>
</html>
